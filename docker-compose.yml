services:
  ghostwall:
    build: .
    container_name: ghostwall
    ports:
      - "22:22"    # SSH honeypot
      - "21:21"    # FTP honeypot
      - "23:23"    # Telnet honeypot
    environment:
      - DRY_RUN=true
      - ANTHROPIC_API_KEY=${ANTHROPIC_API_KEY:-}
    cap_add:
      - NET_ADMIN   # allows iptables when DRY_RUN=false
    tty: true
    stdin_open: true
    restart: unless-stopped
